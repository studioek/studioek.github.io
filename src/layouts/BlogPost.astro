---
import type { CollectionEntry } from "astro:content";
import Layout from "./Layout.astro";

type Props = CollectionEntry<"blog">["data"];

const { title, description, pubDate, updatedDate, heroImage } = Astro.props;
---

<Layout>
  <main class="mx-auto w-full max-w-4xl px-4 py-8">
    <article class="prose prose-lg dark:prose-invert max-w-none">
      <div class="mb-8 text-center">
        {
          heroImage && (
            <img
              width={1020}
              height={510}
              src={heroImage.src}
              alt=""
              class="mb-6 rounded-lg shadow-md"
            />
          )
        }
        <h1 class="mb-2 text-4xl font-bold">{title}</h1>
        <div class="text-gray-500 dark:text-gray-400">
          <time datetime={pubDate.toISOString()}>
            {
              pubDate.toLocaleDateString("en-us", {
                year: "numeric",
                month: "short",
                day: "numeric",
              })
            }
          </time>
          {
            updatedDate && (
              <div class="italic">
                Last updated on{" "}
                <time datetime={updatedDate.toISOString()}>
                  {updatedDate.toLocaleDateString("en-us", {
                    year: "numeric",
                    month: "short",
                    day: "numeric",
                  })}
                </time>
              </div>
            )
          }
        </div>
        <p class="mt-4 text-xl text-gray-600 dark:text-gray-300">
          {description}
        </p>
        <hr class="my-8 border-gray-200 dark:border-gray-700" />
      </div>
      <slot />
    </article>
  </main>
</Layout>
